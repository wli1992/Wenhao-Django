# forms.py
from django import forms
from .models import Student

class StudentForm(forms.ModelForm):
    class Meta:
        model = Student
        fields = ['name', 'email', 'course']

# views.py
from django.shortcuts import render, redirect
from .forms import StudentForm

def add_student(request):
    if request.method == 'POST':
        form = StudentForm(request.POST)
        if form.is_valid():
            form.save()
            return redirect('student_list')  # Redirect to the list view after successful submission
    else:
        form = StudentForm()
    return render(request, 'add_student.html', {'form': form})

# views.py
from django.shortcuts import render
from .models import Student

def student_list(request):
    students = Student.objects.all()
    return render(request, 'student_list.html', {'students': students})

<!-- add_student.html -->
<form method="post" action="{% url 'add_student' %}">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">Submit</button>
</form>

<!-- student_list.html -->
<table>
  <thead>
    <tr>
      <th><a href="?sort=name">Name</a></th>
      <th><a href="?sort=email">Email</a></th>
      <th><a href="?sort=course">Course</a></th>
    </tr>
  </thead>
  <tbody>
    {% for student in students %}
      <tr>
        <td>{{ student.name }}</td>
        <td>{{ student.email }}</td>
        <td>{{ student.course }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

# views.py
from django.shortcuts import render
from .models import Student

def student_list(request):
    sort_param = request.GET.get('sort', 'name')  # Default sorting by name
    students = Student.objects.all().order_by(sort_param)
    return render(request, 'student_list.html', {'students': students})
